quit()
quit()
exit()
quit()
View(flights)
library(nycflights13)
library(ggplot2)
library(moderndive)
View(flights)
View(alaska_flights)
ggplot(alaska_flights, aes(x = dep_delay, y = arr_delay)) + geom_point()
View(weather)
library(dplyr)
library(nycflights13)
library(knitr)
glimpse(weather)
glimpse(alaska_flights)
ggplot(alaska_flights, aes(x=distance, y=our))+geom_point()
ggplot(alaska_flights, aes(x=distance, y=hour)) + geom_point()
+ geom_point(alpha = 0.2)
# Dealing with over plotting: Adjust transparency of points or use jitter
ggplot(alaska_flights, aes(x = dep_delay, y = arr_delay)) +
geom_point(alpha = 0.2)
ggplot(alaska_flights, aes(x = dep_delay, y = arr_delay)) +
geom_jitter(width = 35, height = 35)
library(nycflights13)
library(ggplot2)
library(moderndive)
View(weather)
glimpse(weather)
library(dplyr)
library(nycflights13)
library(knitr)
glimpse(weather)
?weather
View(early_january_weather)
View(flights)
#Line graphs - relationship between two numerical variables, x-axis is ordered.
ggplot(early_january_weather, aes(x = time_hour, y = temp) + geom_line()
#Line graphs - relationship between two numerical variables, x-axis is ordered.
ggplot(early_january_weather, aes(x = time_hour, y = temp)) + geom_line()
#Line graphs - relationship between two numerical variables, x-axis is ordered.
ggplot(early_january_weather, aes(x = time_hour, y = temp)) + geom_line()
View(early_january_weather)
ggplot(early_january_weather, aes(x=time_hour, y=wind_speed)) + geom_line()
install.packages("tidyverse")
install.packages(
c("arrow", "babynames", "curl", "duckdb", "gapminder",
"ggrepel", "ggridges", "ggthemes", "hexbin", "janitor", "Lahman",
"leaflet", "maps", "nycflights13", "openxlsx", "palmerpenguins",
"repurrrsive", "tidymodels", "writexl")
)
library(tidyverse)
library(tidyverse)
game <- read_csv("/home/tobuya/Downloads/archive/game_stats.csv")
game <- read_csv("/home/tobuya/Downloads/archive/game_stats")
View(game)
setwd("/home/tobuya/Projects/data/DataLab/nba")
library(tidyverse)
# Read in the data
game <- read_csv("game_stats")
# Drop duplicate rows
game <- game |>
distinct()
View(game)
# Extract stats for home teams
home_stats <- game |>
select(team_id_home, fgm_home:pts_home, season_type, season) |>
group_by(team_id_home, season_type, season) |>
filter(season_type == "Regular Season") |>
summarise(across(fgm_home:pts_home, sum))
View(home_stats)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by = c("home_team_id" = "away_team_id", "season_type", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = to_home + to_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
# Extract stats for away teams
away_stats <- game |>
select(team_id_away, fgm_away:pts_away, season_type, season) |>
group_by(team_id_away, season_type, season) |>
filter(season_type == "Regular Season") |>
summarise(across(fgm_away:pts_away, sum))
View(away_stats)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by = c("home_team_id" = "away_team_id", "season_type", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = to_home + to_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, join_by("home_team_id" = "away_team_id")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = to_home + to_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, join_by("home_team_id" == "away_team_id")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = to_home + to_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by= c("home_team_id" == "away_team_id", "season_type", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = to_home + to_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by= c("home_team_id" = "away_team_id", "season_type", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = to_home + to_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by= c("team_id_home" = "team_id_away", "season_type", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = to_home + to_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by= c("team_id_home" = "team_id_away", "season_type", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = tov_home + tov_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away)
View(team_stats)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by= c("team_id_home" = "team_id_away", "season_type", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = tov_home + tov_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away) |>
select(team_id = team_id_home, season, field_goals_made:points)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by= c("team_id_home" = "team_id_away", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = tov_home + tov_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away) |>
select(team_id = team_id_home, season, field_goals_made:points)
View(team_stats)
glimpse(team_stats)
game
# Top 5 teams with the most the most overall points
top_5_teams <- team_stats |>
group_by(team_id) |>
summarise(total_points = sum(points)) |>
arrange(desc(total_points))
View(top_5_teams)
# Top 5 teams with the most the most overall points
top_5_teams <- team_stats |>
group_by(team_id) |>
summarise(total_points = sum(points)) |>
arrange(desc(total_points)) |>
head(5)
View(top_5_teams)
top_5_teams_stats <- team_stats |>
filter(team_id %in% top_5_teams$team_id)
View(top_5_teams_stats)
top_5_teams_stats <- team_stats |>
filter(team_id %in% top_5_teams$team_id) |>
group_by(team_id)
View(top_5_teams_stats)
top_5_team %>%
group_by(team_id) %>%
summarize(total_points = sum(points))
top_5_teams_stats <- team_stats |>
filter(team_id %in% top_5_teams$team_id) |>
group_by(team_id) |>
summarize(across(field_goals_made:points, sum))
View(top_5_teams_stats)
setwd("/home/tobuya/Projects/data/DataLab/nba")
# Read in the data
game_stats <- read_csv("game_stats")
team_info <- read_csv("team_info")
# Drop duplicate rows
game <- game_stats |>
distinct()
View(game)
View(team_info)
# View the datasets
View(game)
View(team_info)
# Extract stats for home teams
home_stats <- game |>
select(team_id_home, fgm_home:pts_home, season_type, season) |>
group_by(team_id_home, season_type, season) |>
filter(season_type == "Regular Season") |>
summarise(across(fgm_home:pts_home, sum))
View(home_stats)
# Extract stats for away teams
away_stats <- game |>
select(team_id_away, fgm_away:pts_away, season_type, season) |>
group_by(team_id_away, season_type, season) |>
filter(season_type == "Regular Season") |>
summarise(across(fgm_away:pts_away, sum))
View(away_stats)
# Combine home and away stats
team_stats <- home_stats |>
inner_join(away_stats, by= c("team_id_home" = "team_id_away", "season")) |>
mutate(field_goals_made = fgm_home + fgm_away,
field_goals_attempt = fga_home + fga_away,
three_point_made = fg3m_home + fg3m_away,
three_point_attempt = fg3a_home + fg3a_away,
free_throws_made = ftm_home + ftm_away,
free_throws_attempt = fta_home + fta_away,
offensive_rebounds = oreb_home + oreb_away,
defensive_rebounds = dreb_home + dreb_away,
total_rebounds = reb_home + reb_away,
assists = ast_home + ast_away,
steals = stl_home + stl_away,
blocks = blk_home + blk_away,
turnovers = tov_home + tov_away,
personal_fouls = pf_home + pf_away,
points = pts_home + pts_away) |>
select(team_id = team_id_home, season, field_goals_made:points)
View(team_stats)
# Top 5 teams with the most the most overall points
top_5_teams <- team_stats |>
group_by(team_id) |>
summarise(total_points = sum(points)) |>
arrange(desc(total_points)) |>
head(5)
View(top_5_teams)
team_info <- read_csv("team_info")
View(team_info)
# Merge team stats with team info
top_5_teams_data <- team_info |>
inner_join(top_5_teams_stats, by = "team_id")
View(top_5_teams_data)
# Top 5 teams with the most the most overall points
top_6_teams <- team_stats |>
group_by(team_id) |>
summarise(total_points = sum(points)) |>
arrange(desc(total_points)) |>
head(6)
View(top_6_teams)
# Stats for the top 5 teams
top_6_teams_stats <- team_stats |>
filter(team_id %in% top_6_teams$team_id) |>
group_by(team_id) |>
summarize(across(field_goals_made:points, sum))
View(top_6_teams_stats)
# Merge team stats with team info
top_6_teams_data <- team_info |>
inner_join(top_6_teams_stats, by = "team_id")
View(top_6_teams_data)
# Merge team stats with team info
top_6_teams_data <- team_info |>
inner_join(top_6_teams_stats, by = "team_id") |>
select(team_name, field_goals_made:points, city, state, year_founded)
View(top_6_teams_data)
